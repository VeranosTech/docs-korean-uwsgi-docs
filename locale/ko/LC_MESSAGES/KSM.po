# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2012-2016, uWSGI
# This file is distributed under the same license as the uWSGI package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2019.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: uWSGI 2.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-05-09 10:15+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.6.0\n"

#: ../../KSM.rst:2
msgid "Using Linux KSM in uWSGI"
msgstr ""

#: ../../KSM.rst:4
msgid ""
"`Kernel Samepage Merging <http://www.linux-kvm.org/page/KSM>`_ is a "
"feature of Linux kernels >= 2.6.32 which allows processes to share pages "
"of memory with the same content. This is accomplished by a kernel daemon "
"that periodically performs scans, comparisons, and, if possible, merges "
"of specific memory areas. Born as an enhancement for KVM it can be used "
"for processes that use common data (such as uWSGI processes with language"
" interpreters and standard libraries)."
msgstr ""

#: ../../KSM.rst:11
msgid ""
"If you are lucky, using KSM may exponentially reduce the memory usage of "
"your uWSGI instances. Especially in massive :doc:`Emperor<Emperor>` "
"deployments: enabling KSM for each vassal may result in massive memory "
"savings. KSM in uWSGI was the idea of Giacomo Bagnoli of `Asidev s.r.l. "
"<http://www.asidev.com/en/company.html>`_. Many thanks to him."
msgstr ""

#: ../../KSM.rst:18
msgid "Enabling the KSM daemon"
msgstr ""

#: ../../KSM.rst:20
msgid ""
"To enable the KSM daemon (``ksmd``), simply set "
"``/sys/kernel/mm/ksm/run`` to 1, like so:"
msgstr ""

#: ../../KSM.rst:29
msgid ""
"Remember to do this on machine startup, as the KSM daemon does not run by"
" default."
msgstr ""

#: ../../KSM.rst:34
msgid ""
"KSM is an opt-in feature that has to be explicitly requested by "
"processes, so just enabling KSM will not be a savior for everything on "
"your machine."
msgstr ""

#: ../../KSM.rst:38
msgid "Enabling KSM support in uWSGI"
msgstr ""

#: ../../KSM.rst:40
msgid ""
"If you have compiled uWSGI on a kernel with KSM support, you will be able"
" to use the ``ksm`` option. This option will instruct uWSGI to register "
"process memory mappings (via ``madvise`` syscall) after each request or "
"master cycle. If no page mapping has changed from the last scan, no "
"expensive syscalls are used."
msgstr ""

#: ../../KSM.rst:47
msgid "Performance impact"
msgstr ""

#: ../../KSM.rst:49
msgid ""
"Checking for process mappings requires parsing the ``/proc/self/maps`` "
"file after each request. In some setups this may hurt performance. You "
"can tune the frequency of the uWSGI page scanner by passing an argument "
"to the ``ksm`` option."
msgstr ""

#: ../../KSM.rst:60
msgid "Check if KSM is working well"
msgstr ""

#: ../../KSM.rst:62
msgid ""
"The ``/sys/kernel/mm/ksm/pages_shared`` and "
"``/sys/kernel/mm/ksm/pages_sharing`` files contain statistics regarding "
"KSM's efficiency. The higher values, the less memory consumption for your"
" uWSGI instances."
msgstr ""

#: ../../KSM.rst:67
msgid "KSM statistics with collectd"
msgstr ""

#: ../../KSM.rst:69
msgid ""
"A simple Bash script like this is useful for keeping an eye on KSM's "
"efficiency:"
msgstr ""

#: ../../KSM.rst:84
msgid ""
"In your `collectd <http://collectd.org/>`_ configuration, add something "
"like this:"
msgstr ""

